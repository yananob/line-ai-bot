This file contains a recursive listing of the project's directory structure, generated by the 'ls -R' command.

Interpreting the format:
- The listing for the current directory (where 'ls -R' was run) starts with '.:'.
- Each subsequent directory is displayed on its own line, ending with a colon, like './path/to/directory:'.
- Files and subdirectories within a directory are listed below that directory's entry.
--- (separator) ---
.:
DDD_REFACTORING_SUGGESTIONS.md
LEARNINGS.md
README.md
_cf-common
composer.json
composer.lock
configs
deploy_all_prod.sh
deploy_all_test.sh
deploy_event_prod.sh
deploy_event_test.sh
deploy_http_prod.sh
deploy_http_test.sh
file_structure.txt
index.php
php.ini
src
tests

./_cf-common:
README.md
deploy
misc
test

./_cf-common/deploy:
RENAME_deploy.sh
common.sh
deploy_php_event.sh
deploy_php_http.sh
deploy_py_http.sh
rsync_exclude.conf

./_cf-common/misc:
artifact_cleanup_policy

./_cf-common/misc/artifact_cleanup_policy:
apply.sh
policy.json

./_cf-common/test:
phpstan.neon

./configs:
configs.json.sample.bak
search_api.json.sample

./src:
Application
Command.php
  # Description: Defines an enumeration for different commands the bot can process.
Consts.php
  # Description: Defines global constants for the application, like timezone and command labels.
Domain
Infrastructure
LineWebhookMessage.php
  # Description: Parses and provides access to data from a LINE webhook event, such as message type, content, and sender ID.
Messages.php
  # Description: Defines constant messages for the application, such as help text.
TimerTrigger_old.php
  # Description: An older/alternative class for timer-based triggers, handling date/time parsing and execution logic.
Tools.php
  # Description: Provides static utility methods, e.g., for converting triggers to LINE quick reply formats.
Trigger.php
  # Description: Placeholder or incomplete class definition for Trigger in the root namespace.
WebSearchTool.php
  # Description: Performs web searches using the OpenAI API and formats the results.

./src/Application:
ChatApplicationService.php
  # Description: Handles chat interactions, including getting answers from a GPT model, managing conversation history, performing web searches if needed, and managing triggers.

./src/Domain:
Bot
Conversation

./src/Domain/Bot:
Bot.php
  # Description: Defines the Bot entity, encapsulating properties like characteristics, configurations, and triggers.
BotRepository.php
  # Description: Defines an interface for bot repositories, outlining methods to find, save, and retrieve bot entities.
Service
Trigger

./src/Domain/Bot/Service:
CommandAndTriggerService.php
  # Description: Service for judging command types and generating timer triggers from user messages using GPT.

./src/Domain/Bot/Trigger:
TimerTrigger.php
  # Description: Defines a timer-based trigger, handling date/time parsing and logic for execution.
Trigger.php
  # Description: Defines an interface for various types of triggers within the bot system.

./src/Domain/Conversation:
Conversation.php
  # Description: Represents a single message in a chat, including speaker, content, and timestamp.
ConversationRepository.php
  # Description: Defines an interface for storing and retrieving conversation history.

./src/Infrastructure:
Persistence

./src/Infrastructure/Persistence:
Firestore

./src/Infrastructure/Persistence/Firestore:
FirestoreBotRepository.php
  # Description: Implements BotRepository using Firestore to store and manage bot data and configurations.
FirestoreConversationRepository.php
  # Description: Implements ConversationRepository using Firestore to manage chat message history.

./tests:
ChatApplicationServiceTest.php
Domain
FirestoreConversationRepositoryTest.php
LineWebhookMessageTest.php
ToolsTest.php
WebSearchToolTest.php
configs
listen_local_event.sh
listen_local_http.sh
run_tests.sh
trigger_event_cloud_prod.sh
trigger_event_cloud_test.sh
trigger_event_local.sh
trigger_http_local.sh

./tests/Domain:
Bot

./tests/Domain/Bot:
BotTest.php
Service
Trigger

./tests/Domain/Bot/Service:
CommandAndTriggerServiceTest.php

./tests/Domain/Bot/Trigger:
TimerTriggerTest.php

./tests/configs:
config.json.bak
